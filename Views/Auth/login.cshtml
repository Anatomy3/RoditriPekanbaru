@model RoditriPekanbaru.ViewModels.LoginViewModel
@{
    ViewData["Title"] = "Masuk";
    Layout = "~/Views/Shared/_LandingLayout.cshtml";
}

<style>
    /* Definisi Warna yang Lebih Halus */
    :root {
        --roditri-primary: #FF5722; /* Oranye utama */
        --roditri-primary-dark: #E64A19; /* Oranye gelap untuk gradien */
        --roditri-accent: #FFAB91; /* Oranye muda untuk gradien latar belakang */
        --roditri-secondary: #34495E; /* Abu-abu gelap untuk teks utama */
        --roditri-text-light: #6C7A89; /* Abu-abu sedang untuk teks sekunder */
        --roditri-white: #FFFFFF;
        --roditri-light-gray: #ECF0F1; /* Abu-abu sangat terang untuk input/border */
        --roditri-dark-overlay: rgba(0, 0, 0, 0.1); /* Untuk bayangan ringan */
    }

    /* Latar Belakang Body yang Lebih Dinamis */
    body {
        background: linear-gradient(135deg, var(--roditri-primary), var(--roditri-accent));
        min-height: 100vh;
        zoom: 0.8; /* Konsisten dengan halaman lain */
        overflow-x: hidden;
        font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; /* Font modern */
        display: flex; /* Untuk memusatkan konten login */
        align-items: center;
        justify-content: center;
    }

    /* Sembunyikan footer di halaman auth */
    .footer {
        display: none !important;
    }

    .login-container {
        position: relative;
        width: 100%;
        display: flex; /* Memastikan konten di dalamnya terpusat */
        justify-content: center;
        align-items: center;
        padding: 1rem; /* Padding responsif */
    }

    .main-card {
        background: var(--roditri-white);
        border-radius: 25px; /* Lebih bulat */
        box-shadow: 0 25px 50px var(--roditri-dark-overlay); /* Bayangan lebih dalam dan halus */
        max-width: 900px; /* Lebih lebar sedikit untuk kesan lebih lega */
        width: 100%;
        overflow: hidden;
        display: flex; /* Pastikan kolom responsif */
        flex-direction: row; /* Default: row */
    }

    .left-panel {
        background: linear-gradient(180deg, var(--roditri-primary), var(--roditri-primary-dark)); /* Gradien vertikal untuk kesan solid */
        color: var(--roditri-white);
        padding: 3rem; /* Padding lebih besar */
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center; /* Pusatkan konten horizontal */
        text-align: center;
        flex: 1; /* Fleksibel */
    }

    .right-panel {
        padding: 3rem; /* Padding lebih besar */
        display: flex;
        flex-direction: column;
        justify-content: center;
        flex: 1; /* Fleksibel */
    }

    .brand-section {
        margin-bottom: 2rem;
    }

    .brand-icon {
        background: rgba(255, 255, 255, 0.25); /* Sedikit lebih opaque */
        color: var(--roditri-white);
        width: 70px; /* Lebih besar */
        height: 70px; /* Lebih besar */
        border-radius: 50%; /* Bulat sempurna */
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1.5rem;
        font-size: 2.2rem; /* Ikon lebih besar */
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Bayangan ikon */
    }

    .brand-title {
        font-size: 1.8rem; /* Judul lebih besar */
        font-weight: 700;
        margin-bottom: 0.75rem;
    }

    .brand-subtitle {
        opacity: 0.95;
        font-size: 1rem; /* Subtitle lebih mudah dibaca */
        line-height: 1.6;
        max-width: 300px; /* Batasi lebar subtitle */
        margin: 0 auto;
    }

    .features-list {
        list-style: none;
        padding: 0;
        margin-top: 2rem;
        text-align: left; /* Teks fitur rata kiri */
    }

        .features-list li {
            padding: 0.6rem 0; /* Padding lebih besar antar item */
            font-size: 0.95rem; /* Font fitur lebih besar */
            opacity: 0.95;
            display: flex;
            align-items: center;
        }

        .features-list i {
            margin-right: 1rem; /* Jarak ikon lebih jauh */
            width: 20px; /* Ukuran ikon lebih besar */
            color: var(--roditri-white); /* Warna ikon putih */
            text-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

    .form-section h2 {
        color: var(--roditri-secondary);
        font-size: 1.8rem; /* Judul form lebih besar */
        font-weight: 700;
        margin-bottom: 2rem; /* Margin lebih besar */
        text-align: center;
    }

    .form-label {
        color: var(--roditri-secondary);
        font-weight: 600;
        margin-bottom: 0.75rem; /* Margin lebih besar */
        display: flex;
        align-items: center;
        gap: 0.75rem; /* Jarak ikon dan teks label */
        font-size: 1rem; /* Ukuran label lebih besar */
    }

        .form-label i {
            color: var(--roditri-primary);
            width: 18px; /* Ukuran ikon label */
        }

    .form-control {
        border: 1px solid var(--roditri-light-gray); /* Border lebih tipis dan lembut */
        border-radius: 12px; /* Lebih bulat dari sebelumnya */
        padding: 0.85rem 1.25rem; /* Padding lebih proporsional */
        font-size: 1rem; /* Ukuran font input */
        transition: all 0.3s ease;
        background: var(--roditri-light-gray); /* Latar belakang input sedikit abu-abu */
        box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05); /* Bayangan dalam halus */
    }

        .form-control::placeholder {
            color: var(--roditri-text-light); /* Warna placeholder */
            opacity: 0.7;
        }

        .form-control:focus {
            border-color: var(--roditri-primary);
            box-shadow: 0 0 0 4px rgba(255, 87, 34, 0.15); /* Shadow lebih menonjol */
            background: var(--roditri-white);
            outline: none;
        }

    .input-group .btn-outline-secondary {
        border: 1px solid var(--roditri-light-gray);
        border-left: none; /* Hilangkan border kiri agar menyatu dengan input */
        color: var(--roditri-text-light);
        border-radius: 0 12px 12px 0; /* Sesuaikan radius dengan input */
        background: var(--roditri-light-gray);
        transition: all 0.3s ease;
    }

        .input-group .btn-outline-secondary:hover {
            background: var(--roditri-primary);
            color: var(--roditri-white);
            border-color: var(--roditri-primary);
        }

    .btn-primary {
        background: linear-gradient(45deg, var(--roditri-primary-dark), var(--roditri-primary)); /* Gradien diagonal */
        border: none;
        border-radius: 12px; /* Lebih bulat */
        padding: 0.9rem 1.8rem; /* Padding lebih besar */
        font-size: 1.1rem; /* Ukuran font tombol lebih besar */
        font-weight: 600;
        transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Animasi bounce */
        letter-spacing: 0.5px;
        box-shadow: 0 10px 25px rgba(255, 87, 34, 0.25); /* Bayangan tombol */
    }

        .btn-primary:hover {
            transform: translateY(-5px); /* Efek melayang lebih dramatis */
            box-shadow: 0 15px 35px rgba(255, 87, 34, 0.4);
        }

    .form-check-input {
        width: 1.2rem; /* Sedikit lebih besar */
        height: 1.2rem; /* Sedikit lebih besar */
        border-radius: 6px; /* Sudut sedikit bulat */
        border: 1px solid var(--roditri-text-light);
        transition: all 0.2s ease;
    }

        .form-check-input:checked {
            background-color: var(--roditri-primary);
            border-color: var(--roditri-primary);
            box-shadow: 0 0 0 3px rgba(255, 87, 34, 0.1);
        }

    .form-check-label {
        font-size: 0.95rem; /* Ukuran label checkbox lebih besar */
        color: var(--roditri-text-light);
        margin-left: 0.75rem; /* Jarak lebih jauh */
    }

    .divider {
        position: relative;
        text-align: center;
        margin: 1.5rem 0; /* Margin lebih besar */
        color: var(--roditri-text-light);
        font-size: 0.9rem; /* Ukuran font divider */
    }

        .divider::before, .divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%; /* Lebar garis */
            height: 1px;
            background: var(--roditri-light-gray);
            transform: translateY(-50%);
        }

        .divider::before {
            left: 0;
        }

        .divider::after {
            right: 0;
        }

        .divider span {
            background: var(--roditri-white);
            padding: 0 1rem; /* Padding lebih besar */
            position: relative;
            z-index: 1; /* Pastikan teks di atas garis */
        }

    .register-link {
        text-align: center;
        padding: 1.25rem; /* Padding lebih besar */
        background: rgba(var(--roditri-primary-dark), 0.05); /* Menggunakan warna primary dengan opacity */
        border-radius: 12px; /* Lebih bulat */
        margin-top: 2rem; /* Margin lebih besar */
        border: 1px solid rgba(var(--roditri-primary), 0.1);
    }

        .register-link p {
            margin: 0;
            font-size: 0.9rem; /* Ukuran font link register */
            color: var(--roditri-text-light);
        }

        .register-link a {
            color: var(--roditri-primary);
            text-decoration: none;
            font-weight: 700; /* Lebih tebal */
            transition: color 0.2s ease;
        }

            .register-link a:hover {
                color: var(--roditri-primary-dark);
                text-decoration: underline;
            }

    .alert-danger {
        background: rgba(220, 53, 69, 0.15); /* Lebih opaque */
        border: 1px solid rgba(220, 53, 69, 0.3); /* Border lebih menonjol */
        border-left: 5px solid #dc3545; /* Border kiri lebih tebal */
        color: #dc3545;
        border-radius: 10px; /* Lebih bulat */
        padding: 1rem; /* Padding lebih besar */
        margin-bottom: 1.5rem;
        font-size: 0.9rem; /* Ukuran font alert */
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

        .alert-danger i {
            color: #dc3545;
        }
</style>

<div class="login-container">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12">
                <div class="main-card">
                    <div class="row g-0">
                        <div class="col-md-5">
                            <div class="left-panel">
                                <div class="brand-section">
                                    <div class="brand-icon">
                                        <i class="fas fa-car"></i>
                                    </div>
                                    <h1 class="brand-title">RodiTri Pekanbaru</h1>
                                    <p class="brand-subtitle">Dealer mobil bekas terpercaya dengan pelayanan terbaik untuk kebutuhan kendaraan Anda</p>
                                </div>

                                <ul class="features-list">
                                    <li><i class="fas fa-check"></i> Mobil berkualitas terinspeksi</li>
                                    <li><i class="fas fa-check"></i> Harga terbaik dan transparan</li>
                                    <li><i class="fas fa-check"></i> Garansi dan after-sales</li>
                                    <li><i class="fas fa-check"></i> Proses cepat dan mudah</li>
                                    <li><i class="fas fa-check"></i> Tim professional berpengalaman</li>
                                </ul>
                            </div>
                        </div>

                        <div class="col-md-7">
                            <div class="right-panel">
                                <div class="form-section">
                                    <h2>Selamat Datang Kembali!</h2>

                                    <form asp-action="Login" method="post" id="loginForm">
                                        <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert">
                                            <i class="fas fa-exclamation-circle"></i>
                                        </div>

                                        <div class="mb-3">
                                            <label asp-for="Username" class="form-label">
                                                <i class="fas fa-user"></i>Username
                                            </label>
                                            <input asp-for="Username" class="form-control" placeholder="Masukkan username" autocomplete="username" required>
                                            <span asp-validation-for="Username" class="text-danger small"></span>
                                        </div>

                                        <div class="mb-3">
                                            <label asp-for="Password" class="form-label">
                                                <i class="fas fa-lock"></i>Password
                                            </label>
                                            <div class="input-group">
                                                <input asp-for="Password" class="form-control" placeholder="Masukkan password" autocomplete="current-password" required>
                                                <button type="button" class="btn btn-outline-secondary" onclick="togglePassword()">
                                                    <i class="fas fa-eye" id="toggleIcon"></i>
                                                </button>
                                            </div>
                                            <span asp-validation-for="Password" class="text-danger small"></span>
                                        </div>

                                        <div class="mb-3">
                                            <div class="form-check">
                                                <input asp-for="RememberMe" class="form-check-input" type="checkbox">
                                                <label asp-for="RememberMe" class="form-check-label">
                                                    Ingat saya
                                                </label>
                                            </div>
                                        </div>

                                        <div class="d-grid mb-3">
                                            <button type="submit" class="btn btn-primary" id="loginBtn">
                                                <i class="fas fa-sign-in-alt me-2"></i>Masuk ke Akun
                                            </button>
                                        </div>
                                    </form>

                                    <div class="divider">
                                        <span>atau</span>
                                    </div>

                                    <div class="register-link">
                                        <p>
                                            Belum punya akun?
                                            <a href="@Url.Action("Register", "Auth")">Daftar sekarang</a>
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function togglePassword() {
        const passwordInput = document.getElementById('Password');
        const toggleIcon = document.getElementById('toggleIcon');

        if (passwordInput && toggleIcon) {
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleIcon.className = 'fas fa-eye-slash';
            } else {
                passwordInput.type = 'password';
                toggleIcon.className = 'fas fa-eye';
            }
        }
    }

    // Form submit handler
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            const btn = document.getElementById('loginBtn');
            btn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Memproses...';
            // Menonaktifkan tombol setelah submit untuk mencegah klik ganda
            btn.disabled = true;
        });
    });
</script>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}