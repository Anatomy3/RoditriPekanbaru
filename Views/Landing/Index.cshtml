@model RoditriPekanbaru.ViewModels.LandingViewModel
@{
    ViewData["Title"] = "RodiTri Pekanbaru - Dealer Mobil Bekas Terpercaya";
    Layout = "~/Views/Shared/_LandingLayout.cshtml";
}

<style>
    /* ===== ZOOM 80% - SAMA SEPERTI BROWSER ZOOM ===== */
    body {
        zoom: 0.8;
    }

    /* Banner Image Styles - More Spacing */
    .banner-image {
        width: 100%;
        height: 380px;
        object-fit: cover;
        object-position: center;
        border-radius: 10px;
    }

    .carousel-item {
        padding: 0;
    }

    .carousel-indicators [data-bs-target] {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin: 0 3px;
    }

    #bannerCarousel {
        margin: 60px auto 40px auto; /* TAMBAH LEBIH BANYAK MARGIN TOP */
    }

    /* Banner container spacing - TAMBAH LEBIH BANYAK PADDING TOP */
    .banner-container {
        padding: 80px 15px 20px 15px; /* PADDING TOP DITAMBAH LAGI */
    }

    /* Mobile Responsive */
    .mobile-banner {
        height: 280px;
    }

    .small-mobile-banner {
        height: 220px;
    }

    body {
        background-color: #f8f9fa;
        margin: 0;
        padding: 0;
    }

    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 80px 0;
        text-align: center;
    }

        .hero-section h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }

        .hero-section p {
            font-size: 1.2rem;
            margin-bottom: 0;
        }

    /* Search Container - Fixed spacing */
    .search-container {
        background: white;
        border-radius: 15px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        margin-top: 30px;
        position: relative;
        z-index: 10;
    }

    /* Filter Pills - Carro Style */
    .filter-pills {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-bottom: 20px;
        justify-content: center;
    }

    .filter-pill {
        background: #f7f7f7;
        border: 1px solid #e1e1e1;
        border-radius: 30px;
        padding: 12px 20px;
        font-size: 14px;
        color: #333;
        text-decoration: none;
        transition: all 0.2s ease;
        cursor: pointer;
        display: inline-block;
        font-weight: 500;
        white-space: nowrap;
    }

        .filter-pill:hover {
            background: #ff5722;
            color: white;
            border-color: #ff5722;
            text-decoration: none;
            transform: translateY(-1px);
        }

        .filter-pill.active {
            background: #ff5722;
            color: white;
            border-color: #ff5722;
        }

    /* Location Badge - Carro Style */
    .location-badge {
        background: #ff5722;
        color: white;
        padding: 8px 15px;
        border-radius: 25px;
        font-size: 14px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        margin-bottom: 20px;
        font-weight: 500;
    }

    /* Advanced Filters - Hidden by default, Carro style */
    .advanced-filters {
        display: none;
    }

    /* Results Header */
    .results-header {
        margin-bottom: 25px;
    }

    .results-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0;
    }

        .results-info h5 {
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
            font-weight: 600;
        }

    /* Sort Dropdown - Carro Style */
    .sort-dropdown {
        display: flex;
        align-items: center;
        gap: 10px;
    }

        .sort-dropdown select {
            background: white;
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            padding: 8px 12px;
            font-size: 14px;
            color: #333;
            min-width: 200px;
        }

    /* Car Grid */
    .car-grid {
        margin-top: 20px;
    }

    .car-card {
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 2px 12px rgba(0,0,0,0.08);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        margin-bottom: 20px;
        position: relative;
        height: 100%;
        display: flex;
        flex-direction: column;
    }

        .car-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

    /* Car Image Container */
    .car-image-container {
        position: relative;
        width: 100%;
        height: 200px;
        overflow: hidden;
    }

    .car-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .no-image-placeholder {
        width: 100%;
        height: 200px;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: #6c757d;
        font-size: 14px;
        text-align: center;
    }

    /* Badges - Carro Style */
    .flash-sale-badge {
        position: absolute;
        top: 12px;
        left: 12px;
        background: #ff5722;
        color: white;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: bold;
        text-transform: uppercase;
        z-index: 5;
    }

    .certified-badge {
        position: absolute;
        bottom: 12px;
        right: 12px;
        background: rgba(0,0,0,0.7);
        color: white;
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: 500;
    }

    /* Carousel Dots - Carro Style */
    .carousel-dots {
        position: absolute;
        bottom: 12px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        gap: 4px;
        z-index: 5;
    }

    .carousel-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: rgba(255,255,255,0.5);
        cursor: pointer;
        transition: background 0.3s ease;
    }

        .carousel-dot.active {
            background: white;
        }

    /* Car Info */
    .car-info {
        padding: 16px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    /* Price Section - Carro Style */
    .price-section {
        margin-bottom: 12px;
    }

    .car-price {
        color: #333;
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 4px;
        display: block;
    }

    .price-details {
        display: flex;
        align-items: center;
        gap: 8px;
        flex-wrap: wrap;
    }

    .car-original-price {
        color: #999;
        font-size: 13px;
        text-decoration: line-through;
    }

    .car-discount {
        background: #e8f5e8;
        color: #2e7d2e;
        padding: 2px 6px;
        border-radius: 4px;
        font-size: 11px;
        font-weight: 600;
    }

    /* Installment - Carro Style */
    .car-installment {
        color: #666;
        font-size: 13px;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 4px;
    }

    /* Car Title - Carro Style */
    .car-title {
        font-size: 15px;
        font-weight: 600;
        color: #333;
        margin-bottom: 8px;
        line-height: 1.3;
        flex-grow: 1;
    }

    /* Car Specs - Carro Style */
    .car-specs {
        display: flex;
        gap: 12px;
        font-size: 12px;
        color: #666;
        margin-bottom: 8px;
        flex-wrap: wrap;
    }

    .car-spec-item {
        display: flex;
        align-items: center;
        gap: 4px;
    }

    /* Car Location - Carro Style */
    .car-location {
        color: #666;
        font-size: 12px;
        display: flex;
        align-items: center;
        gap: 4px;
        margin-top: auto;
        padding-top: 8px;
        border-top: 1px solid #f0f0f0;
    }

    /* FAQ Section Styles - BARU */
    .faq-section {
        background: white;
        padding: 60px 0;
        margin-top: 50px;
    }

    .faq-container {
        max-width: 800px;
        margin: 0 auto;
    }

    .faq-header {
        text-align: center;
        margin-bottom: 40px;
    }

        .faq-header h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .faq-header p {
            color: #666;
            font-size: 1.1rem;
        }

    .faq-item {
        border: 1px solid #e1e1e1;
        border-radius: 10px;
        margin-bottom: 15px;
        overflow: hidden;
        transition: all 0.3s ease;
    }

        .faq-item:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

    .faq-question {
        background: #f8f9fa;
        padding: 20px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        color: #333;
        transition: all 0.3s ease;
    }

        .faq-question:hover {
            background: #e9ecef;
        }

        .faq-question.active {
            background: #e74c3c;
            color: white;
        }

    .faq-icon {
        font-size: 18px;
        transition: transform 0.3s ease;
    }

    .faq-question.active .faq-icon {
        transform: rotate(180deg);
    }

    .faq-answer {
        padding: 0 20px;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease;
        background: white;
    }

        .faq-answer.active {
            padding: 20px;
            max-height: 200px;
        }

        .faq-answer p {
            color: #666;
            line-height: 1.6;
            margin: 0;
        }

    /* Pagination - Carro Style */
    .pagination-wrapper {
        display: flex;
        justify-content: center;
        margin-top: 40px;
        padding: 20px 0;
    }

    .pagination-custom {
        display: flex;
        gap: 8px;
    }

    .page-link-custom {
        padding: 10px 15px;
        border: 1px solid #e1e1e1;
        color: #333;
        text-decoration: none;
        border-radius: 8px;
        transition: all 0.2s ease;
        background: white;
        font-weight: 500;
    }

        .page-link-custom:hover {
            background: #ff5722;
            color: white;
            border-color: #ff5722;
            text-decoration: none;
        }

        .page-link-custom.active {
            background: #ff5722;
            color: white;
            border-color: #ff5722;
        }

    /* Modal Styles - Carro Style */
    .filter-modal {
        border-radius: 12px;
        border: none;
        box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    }

        .filter-modal .modal-header {
            border-bottom: 1px solid #f0f0f0;
            padding: 20px 24px 16px;
        }

        .filter-modal .modal-title {
            font-weight: 600;
            font-size: 18px;
            color: #333;
        }

        .filter-modal .modal-body {
            padding: 24px;
        }

        .filter-modal .modal-footer {
            border-top: 1px solid #f0f0f0;
            padding: 16px 24px 20px;
            gap: 12px;
        }

    /* Range Slider - Carro Style */
    .range-slider {
        padding: 20px 0;
    }

    .range-input {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 24px;
    }

        .range-input input {
            border: 1px solid #e1e1e1;
            border-radius: 8px;
            padding: 12px;
            font-size: 14px;
        }

    .range-separator {
        color: #666;
        font-weight: 500;
        font-size: 16px;
    }

    .slider-track {
        height: 4px;
        background: #e1e1e1;
        border-radius: 2px;
        position: relative;
        margin: 0 12px;
    }

    .slider-range {
        height: 100%;
        background: #ff5722;
        border-radius: 2px;
        width: 60%;
        margin-left: 10%;
        position: relative;
    }

        .slider-range::before,
        .slider-range::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            background: #ff5722;
            border-radius: 50%;
            top: -6px;
            border: 2px solid white;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }

        .slider-range::before {
            left: -8px;
        }

        .slider-range::after {
            right: -8px;
        }

    /* Button Styles - Carro Style */
    .btn-primary-carro {
        background: #ff5722;
        border-color: #ff5722;
        border-radius: 8px;
        padding: 10px 24px;
        font-weight: 600;
        color: white;
    }

        .btn-primary-carro:hover {
            background: #e64a19;
            border-color: #e64a19;
        }

    .btn-light-carro {
        background: #f7f7f7;
        border-color: #e1e1e1;
        border-radius: 8px;
        padding: 10px 24px;
        color: #666;
        font-weight: 500;
    }

        .btn-light-carro:hover {
            background: #e1e1e1;
        }

    /* WhatsApp Float */
    .whatsapp-float {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
    }

        .whatsapp-float .btn {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            border: none;
            background-color: #25d366;
            border-radius: 50%;
        }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 60px 20px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0,0,0,0.08);
    }

        .empty-state i {
            color: #6c757d;
            margin-bottom: 1rem;
        }

        .empty-state h4 {
            color: #6c757d;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: #6c757d;
            margin-bottom: 1rem;
        }

    /* Responsive Design - Fixed */
    .mobile-only {
        display: none;
    }

    .desktop-only {
        display: block;
    }

    /* Mobile adjustments using CSS without media queries */
    .responsive-filter-pills {
        justify-content: center;
    }

    .responsive-results-info {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }

    .responsive-car-specs {
        justify-content: center;
    }

    .responsive-banner-height {
        height: 280px;
    }

    .responsive-search-container {
        margin: 20px 15px;
        padding: 20px;
    }

    .responsive-car-card {
        margin-bottom: 15px;
    }

    .responsive-filter-pill {
        padding: 8px 12px;
        font-size: 12px;
    }

    .responsive-car-info {
        padding: 12px;
    }

    .responsive-pagination {
        gap: 4px;
    }

    .responsive-page-link {
        padding: 8px 12px;
        font-size: 12px;
    }
</style>

<!-- Banner Section dengan spacing yang diperbaiki -->
@if (ViewBag.Banners != null && ((List<RoditriPekanbaru.Models.Banner>)ViewBag.Banners).Any())
{
    <div class="container" style="padding-top: 40px;">
        <!-- TAMBAH LEBIH BANYAK PADDING TOP -->
        <div id="bannerCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
            <div class="carousel-indicators">
                @for (int i = 0; i < ((List<RoditriPekanbaru.Models.Banner>)ViewBag.Banners).Count; i++)
                {
                    <button type="button" data-bs-target="#bannerCarousel" data-bs-slide-to="@i"
                            class="@(i == 0 ? "active" : "")" aria-current="@(i == 0 ? "true" : "false")"
                            aria-label="Slide @(i + 1)"></button>
                }
            </div>
            <div class="carousel-inner">
                @{
                    int index = 0;
                }
                @foreach (var banner in (List<RoditriPekanbaru.Models.Banner>)ViewBag.Banners)
                {
                    <div class="carousel-item @(index == 0 ? "active" : "")">
                        @if (!string.IsNullOrEmpty(banner.LinkTujuan))
                        {
                            <a href="@banner.LinkTujuan">
                                <img src="@banner.GambarBanner" class="d-block w-100 banner-image" alt="@banner.NamaBanner">
                            </a>
                        }
                        else
                        {
                            <img src="@banner.GambarBanner" class="d-block w-100 banner-image" alt="@banner.NamaBanner">
                        }
                    </div>
                    index++;
                }
            </div>
            @if (((List<RoditriPekanbaru.Models.Banner>)ViewBag.Banners).Count > 1)
            {
                <button class="carousel-control-prev" type="button" data-bs-target="#bannerCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#bannerCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            }
        </div>
    </div>
}

<!-- Search Container -->
<div class="container">
    <div class="search-container">
        <form method="get" asp-action="Index">
            <!-- Main Search Bar -->
            <div class="row mb-3">
                <div class="col-md-8">
                    <div class="input-group input-group-lg">
                        <span class="input-group-text"><i class="fas fa-search"></i></span>
                        <input type="text" class="form-control"
                               name="search" value="@Model.SearchTerm"
                               placeholder="Mobil apa yang sedang kamu cari">
                    </div>
                </div>
                <div class="col-md-4">
                    <button type="submit" class="btn btn-primary-carro btn-lg w-100">
                        <i class="fas fa-search me-2"></i>Cari Mobil
                    </button>
                </div>
            </div>

            <!-- Filter Pills - Only Functional Filters -->
            <div class="filter-pills">
                <a href="@Url.Action("Index")" class="filter-pill @(string.IsNullOrEmpty(Model.SelectedMerek) && Model.MinHarga == null && Model.MaxHarga == null && Model.TahunMin == null && Model.TahunMax == null ? "active" : "")">
                    Promo
                </a>
                <button type="button" class="filter-pill @(!string.IsNullOrEmpty(Model.SelectedMerek) ? "active" : "")" data-bs-toggle="modal" data-bs-target="#brandModal">
                    Brand & Model
                </button>
                <button type="button" class="filter-pill @(Model.MinHarga != null || Model.MaxHarga != null ? "active" : "")" data-bs-toggle="modal" data-bs-target="#priceModal">
                    Harga
                </button>
                <button type="button" class="filter-pill @(Model.TahunMin != null || Model.TahunMax != null ? "active" : "")" data-bs-toggle="modal" data-bs-target="#yearModal">
                    Tahun
                </button>
            </div>
        </form>
    </div>
</div>

<!-- Results Section -->
<div class="container mt-4">
    <!-- Results Header -->
    <div class="results-header">
        <div class="results-info">
            <div>
                <h5>@(Model?.TotalCars ?? 0) Mobil Ditemukan</h5>
                <small class="text-muted">Halaman @(Model?.CurrentPage ?? 1) dari @(Model?.TotalPages ?? 1)</small>
            </div>
            <div class="sort-dropdown">
                <span style="font-size: 14px; color: #666; margin-right: 10px;">Urutkan</span>
                <select class="form-select" onchange="sortResults(this.value)">
                    <option value="terbaru">Terbaru</option>
                    <option value="harga-rendah">Harga: Rendah ke Tinggi</option>
                    <option value="harga-tinggi">Harga: Tinggi ke Rendah</option>
                    <option value="tahun-baru">Tahun: Terbaru</option>
                    <option value="tahun-lama">Tahun: Terlama</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Car Grid -->
    <div class="car-grid">
        <div class="row">
            @if (Model?.Cars != null && Model.Cars.Any())
            {
                @foreach (var car in Model.Cars)
                {
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="car-card">
                            <div class="car-image-container">
                                @if (!string.IsNullOrEmpty(car.GambarMobil))
                                {
                                    <img src="@car.GambarMobil" alt="@car.NamaMobil" class="car-image">
                                }
                                else
                                {
                                    <div class="no-image-placeholder">
                                        <div>
                                            <i class="fas fa-car fa-2x"></i><br>
                                            Foto akan segera tersedia
                                        </div>
                                    </div>
                                }

                                <!-- Flash Sale Badge -->
                                <div class="flash-sale-badge">
                                    FLASH SALE
                                </div>

                                <!-- Carousel Dots -->
                                <div class="carousel-dots">
                                    <span class="carousel-dot active"></span>
                                    <span class="carousel-dot"></span>
                                    <span class="carousel-dot"></span>
                                    <span class="carousel-dot"></span>
                                </div>

                                <!-- Certified Badge -->
                                <div class="certified-badge">
                                    RodiTri Certified
                                </div>
                            </div>

                            <div class="car-info">
                                <!-- Price Section -->
                                <div class="price-section">
                                    <span class="car-price">@car.Harga.ToString("C0", new System.Globalization.CultureInfo("id-ID"))</span>
                                    <div class="price-details">
                                        <span class="car-original-price">@((car.Harga * 1.15m).ToString("C0", new System.Globalization.CultureInfo("id-ID")))</span>
                                        <span class="car-discount">-Rp20Jt</span>
                                    </div>
                                </div>

                                <!-- Installment -->
                                <div class="car-installment">
                                    <span>Cicilan @((car.Harga / 60).ToString("C0", new System.Globalization.CultureInfo("id-ID")))/bulan</span>
                                    <i class="fas fa-info-circle" title="Simulasi cicilan 5 tahun"></i>
                                </div>

                                <!-- Car Title -->
                                <h6 class="car-title">@car.NamaMobil</h6>

                                <!-- Car Specs -->
                                <div class="car-specs">
                                    <div class="car-spec-item">
                                        <i class="fas fa-calendar-alt"></i>
                                        <span>@car.Tahun</span>
                                    </div>
                                    <div class="car-spec-item">
                                        <i class="fas fa-cog"></i>
                                        <span>Otomatis</span>
                                    </div>
                                    <div class="car-spec-item">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span>Pekanbaru</span>
                                    </div>
                                </div>

                                <!-- Location and Mileage -->
                                <div class="car-location">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span>@(new Random().Next(15000, 85000).ToString("N0")) km</span>
                                    <span>• RodiTri Certified</span>
                                </div>
                            </div>

                            <!-- Click Link -->
                            <a href="@Url.Action("CarDetails", new { id = car.MobilId })" class="stretched-link"></a>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="col-12">
                    <div class="empty-state">
                        <i class="fas fa-car fa-4x"></i>
                        <h4>Tidak ada mobil yang ditemukan</h4>
                        <p>Coba ubah filter pencarian Anda atau lihat semua mobil yang tersedia</p>
                        <a href="@Url.Action("Index")" class="btn btn-primary-carro mt-3">Lihat Semua Mobil</a>
                    </div>
                </div>
            }
        </div>
    </div>

    <!-- Pagination -->
    @if ((Model?.TotalPages ?? 0) > 1)
    {
        <div class="pagination-wrapper">
            <div class="pagination-custom">
                @if (Model.HasPreviousPage)
                {
                    <a href="@Url.Action("Index", new {
                        page = Model.PreviousPage,
                        merek = Model.SelectedMerek,
                        search = Model.SearchTerm,
                        minHarga = Model.MinHarga,
                        maxHarga = Model.MaxHarga,
                        tahunMin = Model.TahunMin,
                        tahunMax = Model.TahunMax
                    })" class="page-link-custom">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                }

                @for (int i = Math.Max(1, Model.CurrentPage - 2); i <= Math.Min(Model.TotalPages, Model.CurrentPage + 2); i++)
                {
                    <a href="@Url.Action("Index", new {
                        page = i,
                        merek = Model.SelectedMerek,
                        search = Model.SearchTerm,
                        minHarga = Model.MinHarga,
                        maxHarga = Model.MaxHarga,
                        tahunMin = Model.TahunMin,
                        tahunMax = Model.TahunMax
                    })" class="page-link-custom @(i == Model.CurrentPage ? "active" : "")">
                        @i
                    </a>
                }

                @if (Model.HasNextPage)
                {
                    <a href="@Url.Action("Index", new {
                        page = Model.NextPage,
                        merek = Model.SelectedMerek,
                        search = Model.SearchTerm,
                        minHarga = Model.MinHarga,
                        maxHarga = Model.MaxHarga,
                        tahunMin = Model.TahunMin,
                        tahunMax = Model.TahunMax
                    })" class="page-link-custom">
                        <i class="fas fa-chevron-right"></i>
                    </a>
                }
            </div>
        </div>
    }
</div>

<!-- FAQ Section - BARU -->
<section class="faq-section">
    <div class="container">
        <div class="faq-container">
            <div class="faq-header">
                <h2>FAQ</h2>
                <p>Pertanyaan yang sering ditanyakan seputar layanan RodiTri Pekanbaru</p>
            </div>

            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Apakah mobil bekas di RodiTri Pekanbaru sudah melalui inspeksi kualitas?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Ya, semua mobil bekas di RodiTri Pekanbaru telah melalui inspeksi menyeluruh oleh teknisi berpengalaman. Kami memeriksa kondisi mesin, kelistrikan, body, dan dokumen untuk memastikan kualitas terbaik bagi pelanggan.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Bagaimana cara melakukan pre-order mobil di RodiTri Pekanbaru?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Anda dapat melakukan pre-order dengan mengklik tombol "Pre-Order Sekarang" pada halaman detail mobil yang diinginkan. Isi formulir dengan data lengkap dan tentukan jumlah DP. Tim kami akan menghubungi Anda dalam 1x24 jam untuk konfirmasi.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Apakah RodiTri Pekanbaru menyediakan layanan trade-in?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Ya, kami menyediakan layanan trade-in. Anda dapat menukar mobil lama dengan mobil yang tersedia di showroom kami. Tim penilai kami akan memberikan harga terbaik untuk mobil lama Anda sesuai kondisi pasar.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Dokumen apa saja yang diperlukan untuk pembelian mobil?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Dokumen yang diperlukan: KTP asli dan fotocopy, KK asli dan fotocopy, NPWP, slip gaji 3 bulan terakhir (untuk kredit), dan buku tabungan. Untuk pembelian cash, cukup KTP dan KK saja.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Berapa lama proses kredit mobil di RodiTri Pekanbaru?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Proses kredit mobil biasanya memakan waktu 3-7 hari kerja tergantung kelengkapan dokumen dan persetujuan dari leasing. Kami bermitra dengan berbagai leasing terpercaya untuk memberikan bunga kompetitif.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>Apakah ada garansi untuk mobil bekas yang dibeli?</span>
                        <i class="fas fa-chevron-down faq-icon"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Ya, kami memberikan garansi mesin 30 hari untuk semua mobil bekas yang dibeli di RodiTri Pekanbaru. Garansi mencakup perbaikan major component jika terjadi kerusakan dalam periode garansi.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Filter Modals - Functional Filters Only -->
<!-- Price Modal - FUNCTIONAL -->
<div class="modal fade" id="priceModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content filter-modal">
            <div class="modal-header">
                <h5 class="modal-title">Harga</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p class="text-muted mb-4">Harga rata-rata mobil di RodiTri adalah Rp 200,826,152</p>
                <form id="priceForm">
                    <div class="range-input">
                        <input type="number" class="form-control" id="minHarga" name="minHarga" placeholder="Harga Min" step="1000000" value="@Model.MinHarga">
                        <span class="range-separator">-</span>
                        <input type="number" class="form-control" id="maxHarga" name="maxHarga" placeholder="Harga Max" step="1000000" value="@Model.MaxHarga">
                    </div>
                    <div class="slider-track">
                        <div class="slider-range"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light-carro" onclick="clearPriceFilter()">Hapus</button>
                <button type="button" class="btn btn-primary-carro" onclick="applyPriceFilter()">Terapkan</button>
            </div>
        </div>
    </div>
</div>

<!-- Brand & Model Modal - FUNCTIONAL -->
<div class="modal fade" id="brandModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content filter-modal">
            <div class="modal-header">
                <h5 class="modal-title">Brand & Model</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="brandForm">
                    @if (Model.Brands != null)
                    {
                        @foreach (var brand in Model.Brands)
                        {
                            <div class="brand-item">
                                <input type="checkbox" id="brand_@brand" name="selectedBrands" value="@brand"
                                @(Model.SelectedMerek == brand ? "checked" : "")>
                                <label for="brand_@brand" class="brand-label">
                                    <span>@brand.ToUpper()</span>
                                </label>
                            </div>
                        }
                    }
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light-carro" onclick="clearBrandFilter()">Hapus</button>
                <button type="button" class="btn btn-primary-carro" onclick="applyBrandFilter()">Terapkan</button>
            </div>
        </div>
    </div>
</div>

<!-- Year Modal - FUNCTIONAL -->
<div class="modal fade" id="yearModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content filter-modal">
            <div class="modal-header">
                <h5 class="modal-title">Tahun</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="yearForm">
                    <div class="range-input">
                        <input type="number" class="form-control" id="tahunMin" name="tahunMin" placeholder="Tahun Min" min="1990" max="2025" value="@Model.TahunMin">
                        <span class="range-separator">-</span>
                        <input type="number" class="form-control" id="tahunMax" name="tahunMax" placeholder="Tahun Max" min="1990" max="2025" value="@Model.TahunMax">
                    </div>
                    <div class="slider-track">
                        <div class="slider-range"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light-carro" onclick="clearYearFilter()">Hapus</button>
                <button type="button" class="btn btn-primary-carro" onclick="applyYearFilter()">Terapkan</button>
            </div>
        </div>
    </div>
</div>

<style>
    /* Additional Modal Styles */
    .brand-item {
        display: flex;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid #f0f0f0;
    }

        .brand-item:last-child {
            border-bottom: none;
        }

    .brand-label {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
        margin-left: 12px;
        cursor: pointer;
        font-weight: 500;
    }

    .range-unit {
        color: #666;
        font-size: 14px;
        margin-left: 8px;
    }

    .availability-options {
        display: flex;
        gap: 12px;
        margin-bottom: 20px;
    }

    .availability-btn {
        padding: 10px 20px;
        border: 1px solid #e1e1e1;
        background: white;
        border-radius: 8px;
        color: #666;
        font-size: 14px;
        cursor: pointer;
        font-weight: 500;
    }

        .availability-btn.active {
            background: #ff5722;
            color: white;
            border-color: #ff5722;
        }

        .availability-btn:hover {
            background: #f7f7f7;
        }

        .availability-btn.active:hover {
            background: #e64a19;
        }

    .availability-item {
        padding: 12px 0;
        color: #666;
        font-size: 14px;
    }
</style>

<!-- WhatsApp Float Button -->
<div class="whatsapp-float">
    <a href="https://wa.me/6281234567890?text=Halo%20RodiTri%20Pekanbaru,%20saya%20tertarik%20dengan%20mobil%20yang%20tersedia"
       target="_blank" class="btn btn-success">
        <i class="fab fa-whatsapp fa-2x"></i>
    </a>
</div>

<script>
    // FAQ Functions - BARU
    function toggleFaq(element) {
        const faqItem = element.parentElement;
        const faqAnswer = faqItem.querySelector('.faq-answer');
        const isActive = element.classList.contains('active');

        // Close all other FAQ items
        document.querySelectorAll('.faq-question.active').forEach(item => {
            if (item !== element) {
                item.classList.remove('active');
                item.parentElement.querySelector('.faq-answer').classList.remove('active');
            }
        });

        // Toggle current FAQ item
        if (isActive) {
            element.classList.remove('active');
            faqAnswer.classList.remove('active');
        } else {
            element.classList.add('active');
            faqAnswer.classList.add('active');
        }
    }

    // Filter Functions - FUNCTIONAL
    function applyPriceFilter() {
        const minHarga = document.getElementById('minHarga').value;
        const maxHarga = document.getElementById('maxHarga').value;

        const url = new URL(window.location);
        if (minHarga) url.searchParams.set('minHarga', minHarga);
        if (maxHarga) url.searchParams.set('maxHarga', maxHarga);

        window.location.href = url.toString();
    }

    function clearPriceFilter() {
        const url = new URL(window.location);
        url.searchParams.delete('minHarga');
        url.searchParams.delete('maxHarga');
        window.location.href = url.toString();
    }

    function applyBrandFilter() {
        const selectedBrands = [];
        document.querySelectorAll('input[name="selectedBrands"]:checked').forEach(checkbox => {
            selectedBrands.push(checkbox.value);
        });

        const url = new URL(window.location);
        if (selectedBrands.length > 0) {
            url.searchParams.set('merek', selectedBrands[0]); // Take first selected brand
        } else {
            url.searchParams.delete('merek');
        }

        window.location.href = url.toString();
    }

    function clearBrandFilter() {
        const url = new URL(window.location);
        url.searchParams.delete('merek');
        window.location.href = url.toString();
    }

    function applyYearFilter() {
        const tahunMin = document.getElementById('tahunMin').value;
        const tahunMax = document.getElementById('tahunMax').value;

        const url = new URL(window.location);
        if (tahunMin) url.searchParams.set('tahunMin', tahunMin);
        if (tahunMax) url.searchParams.set('tahunMax', tahunMax);

        window.location.href = url.toString();
    }

    function clearYearFilter() {
        const url = new URL(window.location);
        url.searchParams.delete('tahunMin');
        url.searchParams.delete('tahunMax');
        window.location.href = url.toString();
    }

    function sortResults(sortBy) {
        const url = new URL(window.location);
        url.searchParams.set('sort', sortBy);
        window.location.href = url.toString();
    }

    // Responsive handler
    function handleResponsive() {
        const isMobile = window.innerWidth <= 768;
        const isSmallMobile = window.innerWidth <= 576;

        // Filter pills
        const filterPills = document.querySelector('.filter-pills');
        if (filterPills) {
            if (isMobile) {
                filterPills.classList.add('responsive-filter-pills');
            } else {
                filterPills.classList.remove('responsive-filter-pills');
            }
        }

        // Results info
        const resultsInfo = document.querySelector('.results-info');
        if (resultsInfo) {
            if (isMobile) {
                resultsInfo.classList.add('responsive-results-info');
            } else {
                resultsInfo.classList.remove('responsive-results-info');
            }
        }

        // Car specs
        document.querySelectorAll('.car-specs').forEach(specs => {
            if (isMobile) {
                specs.classList.add('responsive-car-specs');
            } else {
                specs.classList.remove('responsive-car-specs');
            }
        });

        // Banner height
        document.querySelectorAll('.banner-image').forEach(banner => {
            if (isSmallMobile) {
                banner.classList.add('responsive-banner-height');
                banner.style.height = '220px';
            } else if (isMobile) {
                banner.classList.add('responsive-banner-height');
                banner.style.height = '280px';
            } else {
                banner.classList.remove('responsive-banner-height');
                banner.style.height = '380px';
            }
        });

        // Search container
        const searchContainer = document.querySelector('.search-container');
        if (searchContainer) {
            if (isMobile) {
                searchContainer.classList.add('responsive-search-container');
            } else {
                searchContainer.classList.remove('responsive-search-container');
            }
        }

        // Filter pills size
        document.querySelectorAll('.filter-pill').forEach(pill => {
            if (isSmallMobile) {
                pill.classList.add('responsive-filter-pill');
            } else {
                pill.classList.remove('responsive-filter-pill');
            }
        });

        // Car info padding
        document.querySelectorAll('.car-info').forEach(info => {
            if (isSmallMobile) {
                info.classList.add('responsive-car-info');
            } else {
                info.classList.remove('responsive-car-info');
            }
        });

        // Pagination
        const pagination = document.querySelector('.pagination-custom');
        if (pagination) {
            if (isSmallMobile) {
                pagination.classList.add('responsive-pagination');
            } else {
                pagination.classList.remove('responsive-pagination');
            }
        }

        document.querySelectorAll('.page-link-custom').forEach(link => {
            if (isSmallMobile) {
                link.classList.add('responsive-page-link');
            } else {
                link.classList.remove('responsive-page-link');
            }
        });
    }

    document.addEventListener('DOMContentLoaded', function() {
        console.log('Landing page loaded successfully - ZOOM 80%');

        // Initial responsive check
        handleResponsive();

        // Handle window resize
        window.addEventListener('resize', handleResponsive);

        // Filter pill interactions
        document.querySelectorAll('.filter-pill').forEach(function(pill) {
            pill.addEventListener('click', function(e) {
                if (this.getAttribute('href') === '#' || !this.getAttribute('href')) {
                    e.preventDefault();
                }
            });
        });
    });
</script>